@import "tailwindcss";

/*
  Global Design Tokens (light/dark)
  - Non-breaking: components can gradually adopt vars via Tailwind arbitrary values
  - Example usage: bg-[var(--surface-primary)] text-[var(--text-primary)] border-[var(--border-primary)]
*/

:root {
  /* Surfaces */
  --surface-primary: #ffffff;
  --surface-elevated: #ffffff; /* consider slight tint: #ffffffF2 */
  --surface-muted: #f8fafc; /* slate-50/100 */
  /* Text */
  --text-primary: #0f172a; /* slate-900 */
  --text-secondary: #334155; /* slate-700 */
  --text-muted: #64748b; /* slate-500 */
  /* Borders & outlines */
  --border-primary: #e5e7eb; /* gray-200 */
  --border-muted: #f1f5f9; /* slate-100 */
  /* Brand */
  --brand-50: #faf5ff;
  --brand-100: #f3e8ff;
  --brand-200: #e9d5ff;
  --brand-300: #d8b4fe;
  --brand-400: #c084fc;
  --brand-500: #a855f7;
  --brand-600: #9333ea; /* current accent purple */
  --brand-700: #7e22ce;
  --brand-800: #6b21a8;
  --brand-900: #581c87;
  /* Accents */
  --accent-amber: #f59e0b;
  --accent-teal: #14b8a6;
  /* Effects */
  --shadow-color: 0, 0, 0; /* used with alpha */
  --ring-brand: var(--brand-400);
  --radius-lg: 0.75rem; /* 12px */
  --radius-xl: 1rem;    /* 16px */
  --radius-2xl: 1.25rem;/* 20px */
  /* App background */
  --app-bg: radial-gradient(1200px 800px at 10% -10%, rgba(147, 51, 234, 0.06), transparent 50%),
             radial-gradient(1000px 700px at 90% 0%, rgba(37, 99, 235, 0.05), transparent 50%),
             #f8fafc;
}

/* Dark mode (opt-in: apply .dark on <html> or <body>) */
.dark {
  --surface-primary: #0b1220; /* near slate-950 */
  --surface-elevated: #0f172a; /* slate-900 */
  --surface-muted: #0a0f1c;
  --text-primary: #e5e7eb; /* gray-200 */
  --text-secondary: #cbd5e1; /* slate-300 */
  --text-muted: #94a3b8; /* slate-400 */
  --border-primary: #1f2937; /* gray-800 */
  --border-muted: #111827; /* gray-900 */
  --ring-brand: #a855f7;
  --app-bg: radial-gradient(1200px 800px at 10% -10%, rgba(147, 51, 234, 0.12), transparent 50%),
            radial-gradient(1000px 700px at 90% 0%, rgba(37, 99, 235, 0.08), transparent 50%),
            #0b1220;
}

/* Base document styles wired to tokens */
html, body {
  color: var(--text-primary);
  background: var(--app-bg);
}

/* Optional: consistent focus ring using brand */
:where(a, button, input, select, textarea, [role="button"]) {
  outline-color: var(--ring-brand);
}

/* Elevation helpers (can be composed in components as needed) */
.elev-0 { box-shadow: none; }
.elev-1 { box-shadow: 0 1px 2px rgba(var(--shadow-color), 0.04), 0 1px 1px rgba(var(--shadow-color), 0.02); }
.elev-2 { box-shadow: 0 6px 16px rgba(var(--shadow-color), 0.06), 0 2px 6px rgba(var(--shadow-color), 0.04); }
.elev-3 { box-shadow: 0 12px 24px rgba(var(--shadow-color), 0.08), 0 4px 12px rgba(var(--shadow-color), 0.06); }

/* Utility: surface classes for gradual adoption without refactors */
.surface {
  background: var(--surface-primary);
  color: var(--text-primary);
}
.surface-muted {
  background: var(--surface-muted);
  color: var(--text-secondary);
}

/* Reduce motion safety (already used in components, add global guard) */
@media (prefers-reduced-motion: reduce) {
  *:not([data-allow-motion]) {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }
}

:root {
  --background: #ffffff;
  --foreground: #171717;
  /* Motion tokens */
  --motion-fast: 120ms;
  --motion-normal: 180ms;
  --motion-slow: 240ms;
  --ease-standard: cubic-bezier(0.2, 0, 0, 1);
  --ease-emphasized: cubic-bezier(0.05, 0.7, 0.1, 1);
}

/* Theme variables for Tailwind mapping (avoid @theme for broader compatibility) */
:root {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

body {
  /* Force light theme sitewide */
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* Global focus-visible styles */
:where(a, button, input, select, textarea, [role="button"]) {
  outline: none;
}
:where(a, button, input, select, textarea, [role="button"]):focus-visible {
  outline: 2px solid #6d28d9; /* purple-700 */
  outline-offset: 2px;
}

/* Skip link styles */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: #111827; /* gray-900 */
  color: white;
  padding: 8px 12px;
  z-index: 1000;
  border-radius: 0 0 0.5rem 0.5rem;
}
.skip-link:focus {
  top: 0;
}

/* Toast animations */
@keyframes toast-slide-in {
  from { opacity: 0; transform: translateY(-8px) scale(.96); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}
@keyframes toast-bar-shrink {
  from { width: 100%; }
  to { width: 0%; }
}
.animate-slide-in { animation: toast-slide-in .25s ease forwards; }
.animate-toast-bar { animation: toast-bar-shrink linear forwards; }

/* Generic motion utilities with reduced motion safety */
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes fade-up {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes slide-in-top {
  from { opacity: 0; transform: translateY(-8px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes scale-in {
  from { opacity: 0; transform: scale(0.98); }
  to { opacity: 1; transform: scale(1); }
}
@keyframes shimmer {
  0% { background-position: -468px 0; }
  100% { background-position: 468px 0; }
}

/* Classes */
.animate-fade-in { animation: fade-in var(--motion-normal) var(--ease-standard) both; }
.animate-fade-up { animation: fade-up var(--motion-normal) var(--ease-standard) both; }
.animate-slide-in-top { animation: slide-in-top var(--motion-normal) var(--ease-standard) both; }
.animate-scale-in { animation: scale-in var(--motion-normal) var(--ease-emphasized) both; }
.skeleton-shimmer { background: #eee; background-image: linear-gradient(90deg, #eee 0, #f5f5f5 40%, #eee 80%); background-size: 600px 100%; animation: shimmer 1.2s linear infinite; }

/* Page enter baseline */
.page-enter { will-change: opacity, transform; }

/* Reduced motion: minimize animations */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: 1ms !important; animation-iteration-count: 1 !important; transition-duration: 1ms !important; scroll-behavior: auto !important; }
}
